@import url('https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Orbitron:wght@400;700;900&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* SCP FOUNDATION TERMINAL DESIGN SYSTEM */

@layer base {
  :root {
    /* Core Colors */
    --background: 0 0% 0%;
    --foreground: 145 100% 50%;
    
    /* Terminal Green */
    --primary: 145 100% 50%;
    --primary-foreground: 0 0% 0%;
    --primary-glow: 145 100% 40%;
    
    /* Warning Red */
    --destructive: 350 100% 50%;
    --destructive-foreground: 0 0% 100%;
    --destructive-glow: 350 100% 40%;
    
    /* Secondary elements */
    --secondary: 145 80% 20%;
    --secondary-foreground: 145 100% 50%;
    
    --muted: 145 50% 10%;
    --muted-foreground: 145 60% 40%;
    
    --accent: 180 100% 50%;
    --accent-foreground: 0 0% 0%;
    
    --card: 0 0% 2%;
    --card-foreground: 145 100% 50%;
    
    --popover: 0 0% 2%;
    --popover-foreground: 145 100% 50%;
    
    --border: 145 100% 30%;
    --input: 145 100% 20%;
    --ring: 145 100% 50%;
    
    --radius: 0px;
    
    /* Terminal specific */
    --terminal-green: 145 100% 50%;
    --terminal-dark-green: 145 100% 15%;
    --scanline-opacity: 0.05;
    --glow-intensity: 20px;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  
  html {
    cursor: default;
  }

  body {
    @apply bg-background text-foreground font-mono;
    font-family: 'Share Tech Mono', monospace;
    overflow-x: hidden;
  }
  
  ::selection {
    background: hsl(var(--primary) / 0.3);
    color: hsl(var(--primary));
  }
}

/* CRT SCANLINE EFFECT */
@layer components {
  .crt-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 9999;
  }
  
  .crt-overlay::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: repeating-linear-gradient(
      0deg,
      transparent,
      transparent 2px,
      hsl(0 0% 0% / 0.1) 2px,
      hsl(0 0% 0% / 0.1) 4px
    );
    animation: scanlines 0.1s linear infinite;
  }
  
  .crt-overlay::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: radial-gradient(
      ellipse at center,
      transparent 0%,
      hsl(0 0% 0% / 0.3) 100%
    );
  }
}

/* GLITCH EFFECT */
@layer components {
  .glitch {
    position: relative;
    animation: glitch-skew 4s infinite linear alternate-reverse;
  }
  
  .glitch::before,
  .glitch::after {
    content: attr(data-text);
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }
  
  .glitch::before {
    left: 2px;
    text-shadow: -2px 0 hsl(var(--destructive));
    clip: rect(44px, 450px, 56px, 0);
    animation: glitch-anim 5s infinite linear alternate-reverse;
  }
  
  .glitch::after {
    left: -2px;
    text-shadow: 2px 0 hsl(var(--accent));
    clip: rect(44px, 450px, 56px, 0);
    animation: glitch-anim2 5s infinite linear alternate-reverse;
  }
}

/* GLOW EFFECTS */
@layer components {
  .terminal-glow {
    text-shadow: 
      0 0 5px hsl(var(--primary)),
      0 0 10px hsl(var(--primary)),
      0 0 20px hsl(var(--primary)),
      0 0 40px hsl(var(--primary-glow));
  }
  
  .terminal-glow-subtle {
    text-shadow: 
      0 0 2px hsl(var(--primary)),
      0 0 5px hsl(var(--primary) / 0.5);
  }
  
  .box-glow {
    box-shadow: 
      0 0 5px hsl(var(--primary) / 0.5),
      0 0 10px hsl(var(--primary) / 0.3),
      inset 0 0 10px hsl(var(--primary) / 0.1);
  }
  
  .box-glow-intense {
    box-shadow: 
      0 0 10px hsl(var(--primary)),
      0 0 20px hsl(var(--primary) / 0.5),
      0 0 40px hsl(var(--primary) / 0.3),
      inset 0 0 20px hsl(var(--primary) / 0.1);
  }
  
  .warning-glow {
    text-shadow: 
      0 0 5px hsl(var(--destructive)),
      0 0 10px hsl(var(--destructive)),
      0 0 20px hsl(var(--destructive));
    animation: warning-pulse 1s ease-in-out infinite;
  }
  
  .warning-box-glow {
    box-shadow: 
      0 0 10px hsl(var(--destructive)),
      0 0 20px hsl(var(--destructive) / 0.5),
      inset 0 0 10px hsl(var(--destructive) / 0.2);
    animation: warning-box-pulse 1s ease-in-out infinite;
  }
}

/* TERMINAL BOX FRAMES */
@layer components {
  .terminal-box {
    @apply relative p-4 border border-primary;
    background: hsl(var(--primary) / 0.02);
  }
  
  .terminal-box::before {
    content: '';
    @apply absolute -top-px -left-px w-4 h-4 border-t-2 border-l-2 border-primary;
  }
  
  .terminal-box::after {
    content: '';
    @apply absolute -bottom-px -right-px w-4 h-4 border-b-2 border-r-2 border-primary;
  }
  
  .terminal-header {
    @apply text-xs uppercase tracking-widest mb-2 opacity-70;
  }
}

/* ANIMATED BORDER */
@layer components {
  .animated-border {
    position: relative;
    overflow: hidden;
  }
  
  .animated-border::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 2px;
    background: linear-gradient(
      90deg,
      transparent,
      hsl(var(--primary)),
      transparent
    );
    animation: border-scan 3s linear infinite;
  }
}

/* TYPING CURSOR */
@layer components {
  .typing-cursor::after {
    content: 'â–ˆ';
    animation: blink 1s step-end infinite;
  }
}

/* PROGRESS BAR */
@layer components {
  .progress-bar {
    @apply h-2 bg-muted overflow-hidden relative;
  }
  
  .progress-bar-fill {
    @apply h-full bg-primary transition-all duration-100;
    box-shadow: 0 0 10px hsl(var(--primary));
  }
  
  .progress-bar::after {
    content: '';
    @apply absolute top-0 left-0 w-full h-full;
    background: repeating-linear-gradient(
      90deg,
      transparent,
      transparent 4px,
      hsl(0 0% 0% / 0.3) 4px,
      hsl(0 0% 0% / 0.3) 8px
    );
  }
}

/* SCANNER ANIMATION */
@layer components {
  .scanner-ring {
    stroke: hsl(var(--primary));
    fill: none;
    stroke-width: 2;
    filter: drop-shadow(0 0 5px hsl(var(--primary)));
  }
  
  .scanner-sweep {
    fill: url(#scanner-gradient);
    transform-origin: center;
    animation: scanner-rotate 2s linear infinite;
  }
  
  .scanner-dot {
    fill: hsl(var(--primary));
    filter: drop-shadow(0 0 5px hsl(var(--primary)));
    animation: scanner-dot-pulse 1s ease-in-out infinite;
  }
}

/* KEYFRAME ANIMATIONS */
@keyframes scanlines {
  0% { transform: translateY(0); }
  100% { transform: translateY(4px); }
}

@keyframes glitch-skew {
  0% { transform: skew(0deg); }
  20% { transform: skew(0deg); }
  21% { transform: skew(1deg); }
  22% { transform: skew(0deg); }
  80% { transform: skew(0deg); }
  81% { transform: skew(-1deg); }
  82% { transform: skew(0deg); }
  100% { transform: skew(0deg); }
}

@keyframes glitch-anim {
  0% { clip: rect(31px, 9999px, 94px, 0); transform: skew(0.5deg); }
  5% { clip: rect(70px, 9999px, 71px, 0); transform: skew(0.5deg); }
  10% { clip: rect(29px, 9999px, 24px, 0); transform: skew(0.5deg); }
  15% { clip: rect(16px, 9999px, 85px, 0); transform: skew(0.5deg); }
  20% { clip: rect(64px, 9999px, 21px, 0); transform: skew(0.5deg); }
  25% { clip: rect(18px, 9999px, 66px, 0); transform: skew(0.5deg); }
  30% { clip: rect(16px, 9999px, 10px, 0); transform: skew(0.5deg); }
  35% { clip: rect(90px, 9999px, 45px, 0); transform: skew(0.5deg); }
  40% { clip: rect(52px, 9999px, 59px, 0); transform: skew(0.5deg); }
  45% { clip: rect(23px, 9999px, 85px, 0); transform: skew(0.5deg); }
  50% { clip: rect(21px, 9999px, 35px, 0); transform: skew(0.5deg); }
  55% { clip: rect(57px, 9999px, 40px, 0); transform: skew(0.5deg); }
  60% { clip: rect(75px, 9999px, 28px, 0); transform: skew(0.5deg); }
  65% { clip: rect(31px, 9999px, 14px, 0); transform: skew(0.5deg); }
  70% { clip: rect(80px, 9999px, 64px, 0); transform: skew(0.5deg); }
  75% { clip: rect(59px, 9999px, 71px, 0); transform: skew(0.5deg); }
  80% { clip: rect(16px, 9999px, 68px, 0); transform: skew(0.5deg); }
  85% { clip: rect(68px, 9999px, 56px, 0); transform: skew(0.5deg); }
  90% { clip: rect(35px, 9999px, 20px, 0); transform: skew(0.5deg); }
  95% { clip: rect(42px, 9999px, 73px, 0); transform: skew(0.5deg); }
  100% { clip: rect(25px, 9999px, 15px, 0); transform: skew(0.5deg); }
}

@keyframes glitch-anim2 {
  0% { clip: rect(65px, 9999px, 100px, 0); transform: skew(-0.5deg); }
  5% { clip: rect(52px, 9999px, 74px, 0); transform: skew(-0.5deg); }
  10% { clip: rect(79px, 9999px, 85px, 0); transform: skew(-0.5deg); }
  15% { clip: rect(75px, 9999px, 5px, 0); transform: skew(-0.5deg); }
  20% { clip: rect(67px, 9999px, 61px, 0); transform: skew(-0.5deg); }
  25% { clip: rect(14px, 9999px, 79px, 0); transform: skew(-0.5deg); }
  30% { clip: rect(1px, 9999px, 66px, 0); transform: skew(-0.5deg); }
  35% { clip: rect(86px, 9999px, 30px, 0); transform: skew(-0.5deg); }
  40% { clip: rect(23px, 9999px, 98px, 0); transform: skew(-0.5deg); }
  45% { clip: rect(85px, 9999px, 72px, 0); transform: skew(-0.5deg); }
  50% { clip: rect(71px, 9999px, 75px, 0); transform: skew(-0.5deg); }
  55% { clip: rect(2px, 9999px, 48px, 0); transform: skew(-0.5deg); }
  60% { clip: rect(30px, 9999px, 16px, 0); transform: skew(-0.5deg); }
  65% { clip: rect(59px, 9999px, 50px, 0); transform: skew(-0.5deg); }
  70% { clip: rect(41px, 9999px, 62px, 0); transform: skew(-0.5deg); }
  75% { clip: rect(2px, 9999px, 82px, 0); transform: skew(-0.5deg); }
  80% { clip: rect(47px, 9999px, 73px, 0); transform: skew(-0.5deg); }
  85% { clip: rect(3px, 9999px, 27px, 0); transform: skew(-0.5deg); }
  90% { clip: rect(26px, 9999px, 55px, 0); transform: skew(-0.5deg); }
  95% { clip: rect(42px, 9999px, 97px, 0); transform: skew(-0.5deg); }
  100% { clip: rect(38px, 9999px, 49px, 0); transform: skew(-0.5deg); }
}

@keyframes warning-pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}

@keyframes warning-box-pulse {
  0%, 100% { 
    box-shadow: 
      0 0 10px hsl(var(--destructive)),
      0 0 20px hsl(var(--destructive) / 0.5),
      inset 0 0 10px hsl(var(--destructive) / 0.2);
  }
  50% { 
    box-shadow: 
      0 0 20px hsl(var(--destructive)),
      0 0 40px hsl(var(--destructive) / 0.5),
      inset 0 0 20px hsl(var(--destructive) / 0.3);
  }
}

@keyframes blink {
  0%, 50% { opacity: 1; }
  51%, 100% { opacity: 0; }
}

@keyframes border-scan {
  0% { left: -100%; }
  100% { left: 100%; }
}

@keyframes scanner-rotate {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

@keyframes scanner-dot-pulse {
  0%, 100% { opacity: 0.3; r: 2; }
  50% { opacity: 1; r: 3; }
}

@keyframes fade-in-up {
  0% { opacity: 0; transform: translateY(20px); }
  100% { opacity: 1; transform: translateY(0); }
}

@keyframes flicker {
  0%, 100% { opacity: 1; }
  92% { opacity: 1; }
  93% { opacity: 0.8; }
  94% { opacity: 1; }
  97% { opacity: 0.9; }
  98% { opacity: 1; }
}

/* Utility animations */
.animate-fade-in-up {
  animation: fade-in-up 0.5s ease-out forwards;
}

.animate-flicker {
  animation: flicker 4s infinite;
}

.animate-delay-100 { animation-delay: 100ms; }
.animate-delay-200 { animation-delay: 200ms; }
.animate-delay-300 { animation-delay: 300ms; }
.animate-delay-400 { animation-delay: 400ms; }
.animate-delay-500 { animation-delay: 500ms; }
